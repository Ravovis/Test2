import{a as N,c as A,e as Q,i as W,j,k as R,m as H}from"./chunk-PQ5YSAXG.js";import{a as z,b as B}from"./chunk-MC5E54Q4.js";import{A as O,C as k,E as P,F as T,G as v,H as n,I as i,J as E,K as x,L as d,M as m,N as r,O as h,P as p,R as b,S,T as M,V as L,ba as D,ga as I,ha as V,ka as F,n as w,r as g,s as u,w as a,x as C}from"./chunk-MFXF5D3M.js";var $=(l,f)=>f.id;function U(l,f){l&1&&(n(0,"div",15)(1,"div",16),r(2,"\u{1F4CB}"),i(),n(3,"h3"),r(4,"No tasks found"),i(),n(5,"p"),r(6,"Try adjusting your filters or create a new task."),i(),n(7,"a",2),r(8,"Create Task"),i()())}function Y(l,f){if(l&1){let e=x();n(0,"tr",20),d("click",function(){let t=g(e).$implicit,c=m(2);return u(c.navigateToTask(t.id))}),n(1,"td",21),r(2),i(),n(3,"td",22),r(4),i(),n(5,"td")(6,"span",23),r(7),i()(),n(8,"td")(9,"span",24),r(10),i()(),n(11,"td",25),r(12),i(),n(13,"td",26),r(14),i()()}if(l&2){let e=f.$implicit,o=m(2);a(2),h(e.id),a(2),h(e.title),a(2),k("background-color",o.getStatusColor(e.status)),a(),p(" ",e.status," "),a(2),k("background-color",o.getPriorityColor(e.priority)),a(),p(" ",e.priority," "),a(2),h(e.assigneeName),a(2),h(o.formatDate(e.createdDate))}}function q(l,f){if(l&1){let e=x();n(0,"table",17)(1,"thead")(2,"tr")(3,"th",18),d("click",function(){g(e);let t=m();return u(t.onSort("id"))}),r(4),i(),n(5,"th",18),d("click",function(){g(e);let t=m();return u(t.onSort("title"))}),r(6),i(),n(7,"th",18),d("click",function(){g(e);let t=m();return u(t.onSort("status"))}),r(8),i(),n(9,"th",18),d("click",function(){g(e);let t=m();return u(t.onSort("priority"))}),r(10),i(),n(11,"th",18),d("click",function(){g(e);let t=m();return u(t.onSort("assigneeName"))}),r(12),i(),n(13,"th",18),d("click",function(){g(e);let t=m();return u(t.onSort("createdDate"))}),r(14),i()()(),n(15,"tbody"),T(16,Y,15,10,"tr",19,$),i()()}if(l&2){let e=m();a(4),p(" Task ID ",e.getSortIcon("id")," "),a(2),p(" Title ",e.getSortIcon("title")," "),a(2),p(" Status ",e.getSortIcon("status")," "),a(2),p(" Priority ",e.getSortIcon("priority")," "),a(2),p(" Assignee ",e.getSortIcon("assigneeName")," "),a(2),p(" Created Date ",e.getSortIcon("createdDate")," "),a(2),v(e.filteredTasks)}}var ie=(()=>{class l{constructor(e,o){this.taskService=e,this.router=o,this.filteredTasks=[],this.searchQuery="",this.selectedStatus="All",this.sortBy="createdDate",this.sortOrder="desc",this.tasks$=this.taskService.getAllTasks()}ngOnInit(){this.tasks$.subscribe(e=>{this.applyFilters()})}applyFilters(){this.tasks$.subscribe(e=>{let o=[...e];this.selectedStatus!=="All"&&(o=o.filter(t=>t.status===this.selectedStatus)),this.searchQuery.length>=3&&(o=o.filter(t=>t.title.toLowerCase().includes(this.searchQuery.toLowerCase()))),o.sort((t,c)=>{let s,_;switch(this.sortBy){case"createdDate":s=new Date(t.createdDate).getTime(),_=new Date(c.createdDate).getTime();break;case"priority":let y={High:3,Medium:2,Low:1};s=y[t.priority],_=y[c.priority];break;case"title":s=t.title.toLowerCase(),_=c.title.toLowerCase();break;default:s=t[this.sortBy],_=c[this.sortBy]}return this.sortOrder==="asc"?s>_?1:-1:s<_?1:-1}),this.filteredTasks=o})}onSearchChange(){this.applyFilters()}onStatusChange(){this.applyFilters()}onSort(e){this.sortBy===e?this.sortOrder=this.sortOrder==="asc"?"desc":"asc":(this.sortBy=e,this.sortOrder="desc"),this.applyFilters()}getPriorityColor(e){switch(e){case"High":return"#ef4444";case"Medium":return"#f59e0b";case"Low":return"#10b981";default:return"#6b7280"}}getStatusColor(e){switch(e){case"Done":return"#10b981";case"In Progress":return"#f59e0b";case"To Do":return"#6b7280";default:return"#6b7280"}}formatDate(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}getSortIcon(e){return this.sortBy!==e?"\u2195\uFE0F":this.sortOrder==="asc"?"\u2191":"\u2193"}navigateToTask(e){this.router.navigate(["/tasks",e])}static{this.\u0275fac=function(o){return new(o||l)(C(B),C(I))}}static{this.\u0275cmp=w({type:l,selectors:[["app-task-list"]],standalone:!0,features:[L],decls:29,vars:3,consts:[[1,"task-list-container"],[1,"page-header"],["routerLink","/tasks/create",1,"btn","btn-primary"],[1,"btn-icon"],[1,"filters-section"],[1,"filter-group"],["for","status-filter"],["id","status-filter",1,"filter-select",3,"ngModelChange","change","ngModel"],["value","All"],["value","To Do"],["value","In Progress"],["value","Done"],["for","search-input"],["id","search-input","type","text","placeholder","Search by title (min 3 characters)",1,"search-input",3,"ngModelChange","input","ngModel"],[1,"table-container"],[1,"no-tasks"],[1,"no-tasks-icon"],[1,"tasks-table"],[1,"sortable",3,"click"],[1,"task-row"],[1,"task-row",3,"click"],[1,"task-id"],[1,"task-title"],[1,"status-badge"],[1,"priority-badge"],[1,"assignee"],[1,"created-date"]],template:function(o,t){o&1&&(E(0,"app-navigation"),n(1,"div",0)(2,"div",1)(3,"h1"),r(4,"Task List"),i(),n(5,"a",2)(6,"span",3),r(7,"\u2795"),i(),r(8," Create New Task "),i()(),n(9,"div",4)(10,"div",5)(11,"label",6),r(12,"Filter by Status:"),i(),n(13,"select",7),M("ngModelChange",function(s){return S(t.selectedStatus,s)||(t.selectedStatus=s),s}),d("change",function(){return t.onStatusChange()}),n(14,"option",8),r(15,"All"),i(),n(16,"option",9),r(17,"To Do"),i(),n(18,"option",10),r(19,"In Progress"),i(),n(20,"option",11),r(21,"Done"),i()()(),n(22,"div",5)(23,"label",12),r(24,"Search Tasks:"),i(),n(25,"input",13),M("ngModelChange",function(s){return S(t.searchQuery,s)||(t.searchQuery=s),s}),d("input",function(){return t.onSearchChange()}),i()()(),n(26,"div",14),O(27,U,9,0,"div",15)(28,q,18,6),i()()),o&2&&(a(13),b("ngModel",t.selectedStatus),a(12),b("ngModel",t.searchQuery),a(2),P(27,t.filteredTasks.length===0?27:28))},dependencies:[D,F,V,H,j,R,N,W,A,Q,z],styles:[".task-list-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1f2937;font-size:2rem;margin:0}.filters-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;margin-bottom:2rem;box-shadow:0 4px 6px #0000000d;border:1px solid #e5e7eb;display:flex;gap:2rem;flex-wrap:wrap}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;min-width:200px}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#374151;font-size:.875rem}.filter-select[_ngcontent-%COMP%], .search-input[_ngcontent-%COMP%]{padding:.75rem;border:2px solid #e5e7eb;border-radius:8px;font-size:1rem;transition:border-color .2s ease}.filter-select[_ngcontent-%COMP%]:focus, .search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.table-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 4px 6px #0000000d;border:1px solid #e5e7eb}.tasks-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.tasks-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f9fafb;padding:1rem;text-align:left;font-weight:600;color:#374151;border-bottom:2px solid #e5e7eb}.tasks-table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;transition:background-color .2s ease}.tasks-table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]:hover{background:#f3f4f6}.tasks-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #e5e7eb;vertical-align:middle}.task-row[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .2s ease}.task-row[_ngcontent-%COMP%]:hover{background:#f9fafb}.task-id[_ngcontent-%COMP%]{font-family:monospace;font-size:.875rem;color:#6b7280}.task-title[_ngcontent-%COMP%]{font-weight:600;color:#1f2937}.status-badge[_ngcontent-%COMP%], .priority-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;border-radius:20px;font-size:.75rem;font-weight:600;color:#fff;text-transform:uppercase}.assignee[_ngcontent-%COMP%]{color:#374151}.created-date[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem}.no-tasks[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:#6b7280}.no-tasks-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}.no-tasks[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#374151;margin-bottom:.5rem}.no-tasks[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:2rem}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border-radius:8px;text-decoration:none;font-weight:600;transition:all .2s ease;border:none;cursor:pointer;font-size:1rem}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #667eea4d}.btn-icon[_ngcontent-%COMP%]{font-size:1.2rem}@media (max-width: 768px){.task-list-container[_ngcontent-%COMP%]{padding:1rem}.page-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:stretch}.filters-section[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.filter-group[_ngcontent-%COMP%]{min-width:auto}.tasks-table[_ngcontent-%COMP%]{font-size:.875rem}.tasks-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .tasks-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem .5rem}}"]})}}return l})();export{ie as TaskListComponent};
